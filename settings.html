<!DOCTYPE html>
<html lang="ja">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>設定</title>
        <link href="https://fonts.googleapis.com/css2?family=Hachi+Maru+Pop&display=swap" rel="stylesheet">
        <link rel="stylesheet" href="assets/common.css" />
        <link rel="stylesheet" href="assets/settings.css" />
    </head>
    <body>
    <div class="phone">
    <div class="screen">
        <header>
        <h1>設定</h1>
        </header>

        <main>
        <div class="setting-group">
            <label class="setting-label">🔔 通知設定</label>
            <label class="switch">
            <input type="checkbox" id="notifyToggle">
            <span class="slider"></span>
            </label>
        </div>

        <div class="setting-group">
            <label class="setting-label">🌐 言語設定</label>
            <select id="languageSelect">
            <option value="ja">日本語</option>
            <option value="en">English</option>
            </select>
        </div>

        <div class="setting-group">
            <label class="setting-label">👤 アカウント設定</label>
            <button class="btn" onclick="location.href='account.html'">編集する</button>
        </div>

        <div class="setting-group">
            <span class="setting-label">📘 ログアウト</span>
            <button class="btn logout" id="logoutBtn">ログアウト</button>
        </div>

        <div class="setting-group">
            <span class="setting-label">🗑️ アカウント削除</span>
            <button class="btn danger" id="deleteAccountBtn">削除する</button>
        </div>
        </main>

        <footer class="nav">
        <button onclick="location.href='mypage.html'">👤</button>
        <button>👕</button>
        <button onclick="location.href='main.html'">🏠</button>
        <button onclick="location.href='friends.html'">👥</button>
        <button class="active" onclick="location.href='settings.html'">⚙️</button>
        </footer>
    </div>
    </div>

<script>
    // 言語設定
    const languageSelect = document.getElementById('languageSelect');
    languageSelect.addEventListener('change', () => {
        alert('言語を ' + languageSelect.value + ' に変更しました');
    });

    // ログアウトボタンの動作
    const logoutBtn = document.getElementById("logoutBtn");

    logoutBtn.addEventListener("click", () => {
        const confirmLogout = confirm("ログアウトしますか？");

        if (confirmLogout) {
        // ✅ ログイン状態だけ削除（localStorage全消去でもOK）
        localStorage.clear();

        // ✅ login.html に遷移
        window.location.href = "login.html";
        }
    });

    // アカウント削除ボタンをクリックしたとき
    const deleteBtn = document.getElementById("deleteAccountBtn");

    deleteBtn.addEventListener("click", () => {
        // 確認ダイアログ
        const confirmDelete = confirm("本当にアカウントを削除しますか？\nこの操作は取り消せません。");

        if (confirmDelete) {
        // localStorageをすべて削除（ユーザー情報など）
        localStorage.clear();

        // register.htmlへ遷移
        window.location.href = "register.html";
        }
    });
</script>
</body>
</html>
